<!--
 * Copyright (c) 2023-2024, WSO2 LLC. (https://www.wso2.com).
 *
 * WSO2 LLC. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->

{% macro home_card_icon(icon) %}
{% if icon.endswith(".svg") or icon.endswith(".png") %}
{% include icon %}
{% else %}
{% include ".icons/" ~ icon ~ ".svg" %}
{% endif %}
{% endmacro %}

{% extends "base.html" %}

{% block styles %}
{{ super() }}
<link rel="stylesheet" href="{{ 'assets/css/home.css' | url }}">
{% endblock %}

{% block container %}
<div class="md-content">
  <article class="md-content__inner md-typeset">
    <div class="description-section"
      style="display: flex; flex-direction: row; align-items: flex-start; margin-top: 30px;">
      <p>
        WSO2 API Manager is a complete platform for building, integrating, and exposing your digital services as
        managed APIs in the cloud, on-premise, and hybrid architectures to drive your digital transformation strategy.
      </p>
    </div>

    <div style="display: flex; flex-direction: row; gap: 24px; align-items: center;">
      <button class="md-typeset md-button md-button--primary md-button--small md-button--flex md-button--apim"
        onclick="window.open('http://localhost:4000/en/4.6.0/ai-gateway/ai-gateway-overview/', '_blank', 'noopener')">
        Get started with AI Gateway
      </button>
      <a href="#components">Browse by Components</a>
    </div>

    {{ page.content }}

    <h2>Get Started</h2>
    <hr>
    <div class="md-home-sections">
      {% for columns in config.extra.home_page_cards %}
      {% for column in columns.section %}
      {% set header_icon_class = "md-column-grid-item-header-icon" %}
      {% if column.icon_color %}
      {% set header_icon_class = header_icon_class ~ " " ~ column.icon_color %}
      {% endif %}

      {% for item in column.list_items %}
      <div class="md-list-item-container">
        <div class="md-list-item">

          {% if item.url %}

          {% set link = item.url %}

          {% if link.startswith("http") %}

          {% set link_url = item.url %}
          {% set target = '_blank' %}

          {% else %}
          {% set nav_path_keys = link.split('|') %}

          {% set glob = {
          'nav_config': nav,
          'break_loop': false,
          'item_url': None
          } %}

          {% macro loop_children(key) %}

          {% set _ = glob.update({ 'nav_config': glob.nav_config }) %}

          {% if not glob.nav_config.url %}
          {% for nav_item in glob.nav_config %}
          {% if glob.break_loop == false %}
          {% if nav_item.title == key %}

          {% if nav_item.url %}
          {% set _ = glob.update({ 'item_url': nav_item.url }) %}
          {% endif %}

          {% if nav_item.children %}
          {% set _ = glob.update({ 'nav_config': nav_item.children }) %}

          {% set first = nav_item.children | first %}
          {% if first.title == 'Index' %}
          {% set _ = glob.update({ 'item_url': first.url }) %}
          {% endif %}
          {% else %}
          {% set _ = glob.update({ 'item_url': nav_item.url }) %}
          {% set _ = glob.update({ 'nav_config': nav_item }) %}
          {% endif %}

          {% set _ = glob.update({ 'break_loop': true }) %}

          {% endif %}
          {% endif %}
          {% endfor %}

          {% set _ = glob.update({ 'break_loop': false }) %}
          {% else %}
          {% set _ = glob.update({ 'item_url': glob.nav_config.url }) %}
          {% endif %}

          {% if glob.break_loop == true %}
          {{ loop_children(key) }}
          {% endif %}
          {% endmacro %}

          {% for key in nav_path_keys %}
          {{ loop_children(key) }}
          {% endfor %}

          {% set link_url = glob.item_url | replace('index.md', '') | replace('.md', '/') %}
          {% set target = '_self' %}

          {% endif %}

          <a href="{{ link_url }}" target="{{ target }}">
            <div class="md-list-item-icon">
              <svg width="11" height="15" viewBox="0 -3 11 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M5.95801 0.0537109L10.748 4.83643L5.95801 9.62646L5.21094 8.88672L8.76318 5.36377L0.0473633 5.34912V4.33105L8.74854 4.31641L5.21094 0.793457L5.95801 0.0537109Z">
                </path>
              </svg>
            </div>
            <div class="md-list-item-text">{{ item.title }}</div>
          </a>
          {% endif %}
        </div>
      </div>
      {% endfor %}
      {% endfor %}
      {% endfor %}
    </div>
    <h2 id="components">Components</h3>
      <hr />
      <p>WSO2 API Manager offers multiple components designed to work together to solve the challenges of diverse
        infrastructure requirements.</p>

      <div class="components-hub-container">

        <div class="components-grid-split">

          <div>
            <div class="components-section-header">
              <h3>Design & Manage APIs</h3>
              <p>Build, iterate, and apply policies to your APIs and API products.</p>
            </div>
            <div class="components-card">
              <div>
                <h4>API Design</h4>
                <div class="components-card-content">
                  <p>The complete toolkit for API Creators. Design, document, mock, and apply policies for your REST,
                    GraphQL, and AsyncAPI specifications.</p>
                </div>
              </div>
              <div class="components-card-footer">

                <a href="{{base_path}}/api-design-manage/design/design-api-overview/" class="components-resource-link">
                  Design APIs Overview <span>&rarr;</span>
                </a>
              </div>
            </div>
          </div>

          <div>
            <div class="components-section-header">
              <h3>Discover APIs</h3>
              <p>Find, explore, and subscribe to APIs for your applications</p>
            </div>
            <div class="components-card">
              <div>
                <h4>API Developer Portal</h4>
                <div class="components-card-content">
                  The hub for Application Developers. Discover a catalog of available APIs, subscribe your applications,
                  and manage your API keys and credentials.
                </div>
              </div>
              <div class="components-card-footer">

                <a href="{{base_path}}/api-developer-portal/consume-api-overview/" class="components-resource-link">
                  Consume APIs Overview <span>&rarr;</span>
                </a>
              </div>
            </div>
          </div>
        </div>

        <div class="components-section-header">
          <h3>Run APIs</h3>
          <p>Deploy and manage the runtime environment for your API traffic.</p>
        </div>

        <div class="components-grid-2">
          <div class="components-card">
            <div>
              <h4>API Gateway</h4>
              <div class="components-card-content">
                Secure, manage, and scale your API traffic. Learn to deploy the runtime, enforce security policies, and
                manage deployments.
              </div>
            </div>
            <div class="components-card-footer">

              <a href="{{base_path}}/api-gateway/overview-of-the-api-gateway/" class="components-resource-link">
                Universay Gateway Overview <span>&rarr;</span>
              </a>

              <a href="{{base_path}}/api-gateway/federated-gateways/overview/" class="components-resource-link">
                Federated Gateways Overview <span>&rarr;</span>
              </a>

            </div>
          </div>

          <div class="components-card">
            <div>
              <h4>AI Gateway</h4>
              <div class="components-card-content">
                A specialized gateway to secure, monitor, and manage access to LLMs. Get started with the MCP server and
                AI-specific policies.
              </div>
            </div>
            <div class="components-card-footer">

              <a href="{{base_path}}/ai-gateway/ai-gateway-overview//" class="components-resource-link">
                AI Gateway Overview <span>&rarr;</span>
              </a>

            </div>
          </div>
        </div>

        <div class="components-section-header">
          <h3>Govern APIs</h3>
          <p>Oversee and control the security, usage, and automation of your API ecosystem.</p>
        </div>

        <div class="components-grid-3">
          <div class="components-card">
            <div>
              <h4>API Analytics & Monetization</h4>
              <div class="components-card-content">
                Track usage, monitor performance, and configure billing. Gain insights and govern your API products.
              </div>
            </div>
            <div class="components-card-footer">

              <a href="{{base_path}}/monitoring/api-analytics/analytics-overview/" class="components-resource-link">
                API Analytics Overview <span>&rarr;</span>
              </a>

              <a href="{{base_path}}/monitoring/api-monetization/monetizing-an-api/" class="components-resource-link">
                API Monetization How-to Guide <span>&rarr;</span>
              </a>

            </div>
          </div>
          <div class="components-card">
            <div>
              <h4>Key Manager</h4>
              <div class="components-card-content">
                Your central security component. Manage OAuth2 clients, issue tokens, and configure external identity
                providers.
              </div>
            </div>
            <div class="components-card-footer">

              <a href="{{base_path}}/key-manager/key-manager-overview/" class="components-resource-link">
                Key Manager Overview <span>&rarr;</span>
              </a>

            </div>
          </div>

          <div class="components-card">
            <div>
              <h4>API Controller (CLI)</h4>
              <div class="components-card-content">
                Automate your API lifecycle and governance. Use the command-line tool to script operations and enforce
                standards.
              </div>
            </div>
            <div class="components-card-footer">

              <a href="{{base_path}}/install-and-setup/setup/api-controller/getting-started-with-wso2-api-controller/"
                class="components-resource-link">
                API Controller Quickstart <span>&rarr;</span>
              </a>

            </div>
          </div>
        </div>

        <div class="components-section-header">
          <h3>Administer</h3>
          <p>Configure and manage the core system, tenants, and other entities.</p>
        </div>

        <div style="max-width: 50%;">
          <div class="components-card">
            <div>
              <h4>Admin Portal</h4>
              <div class="components-card-content">
                Configure the platform: manage users, tenants, and system-wide policies like rate limiting. Register
                Gateways and Key Managers.
              </div>
            </div>
            <div class="components-card-footer">

              <a href="{{base_path}}/administer/admin-overview/" class="components-resource-link">
                Administration Overview <span>&rarr;</span>
              </a>
              <a href="{{base_path}}/administer/governance/overview/" class="components-resource-link">
                Governance Overview <span>&rarr;</span>
              </a>

            </div>
          </div>
        </div>

      </div>


</div>

</article>
</div>
{% endblock %}