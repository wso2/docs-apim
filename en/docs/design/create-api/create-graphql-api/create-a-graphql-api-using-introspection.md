### Create a GraphQL API using Introspection

A GraphQL introspection query allows you to explore the structure of an existing GraphQL API. By using [introspection](https://graphql.org/learn/introspection/), you can generate the GraphQL schema definition of an API.

Follow the instructions below to create a GraphQL API using introspection.

1. Sign in to the Publisher Portal of WSO2 API Manager.

    `https://<hostname>:9443/publisher` (e.g., `https://localhost:9443/publisher`).

    <html><div class="admonition note">
        <p class="admonition-title">Note</p>
        <p>The <b>Create API</b> button will only appear if you have the "creator" role permission.</p>
        </div>
    </html>

2. Click **Create API** and then click **Create GraphQL API**.

    [![Create GraphQL Schema Option](../../../assets/img/learn/create-graphql-schema-option.png)](../../../assets/img/learn/create-graphql-schema-option.png)

3. Select **GraphQL Endpoint** and provide the endpoint of an existing GraphQL API. Click **Next**.

    <div class="admonition note">
    <p class="admonition-title">Note</p>
    <ul><li>
    <p>You need to ensure the GraphQL API supports introspection.</p></li>
    <li>Currently, introspection based GraphQL API creation requires the endpoint to be unprotected.</li></ul>
    </div>

    [![Create a GraphQL API using Introspection](../../../assets/img/learn/create-graphql-api-using-introspection.png){: style="width:80%"}](../../../assets/img/learn/create-graphql-api-using-introspection.png)

4. Enter the GraphQL API related details and click **Create**.

   Let's create an API named "CountriesAPI" using the following sample data.

   <table>
   <thead>
   <tr class="header">
   <th><div>
   <div>
   <b>Field</b>
   </div>
   </div></th>
   <th><div>
   <div>
   <b>Description</b>
   </div>
   </div></th>
   </tr>
   </thead>
   <td >
       <p>Name</p>
   </td>
   <td>
       <p>CountriesAPI</p>
   </td>
   </tr>
   <tr>
   <td>
       <p>Context</p>
   </td>
   <td>
       <p><code>/countries</code></p>
   </td>
   </tr>
   <tr>
   <td>
       <p>Version</p>
   </td>
   <td>
       <p>1.0.0</p>
   </td>
   </tr>
   <tr>
   <td>
       <p>Endpoint</p>
   </td>
   <td>
       <a href="https://countries.trevorblades.com/" target="_blank">https://countries.trevorblades.com/</a>
           <div class="admonition note">
   <p class="admonition-title">Note</p>
   <p>
   <ul>
   <li>The endpoint will be set to the URL given in the previous step and it will be readonly. The endpoint can be changed after the API is created under endpoints section </li>
   </ul></p>
   </div>
   </td>
   </tr>
   </table>

   [![Add GraphQL API details](../../../assets/img/learn/create-graphql-api-using-introspection-metadata.png){: style="width:75%"}](../../../assets/img/learn/create-graphql-api-using-introspection-metadata.png)

### Operations

Click **API Configurations** and then click **Operations** to navigate to the Operation page.

You will notice that all the GraphQL API operations are created automatically when the Endpoint URL is specified.

[![](../../../assets/img/learn/create-graphql-api-using-introspection-operations.png)](../../../assets/img/learn/create-graphql-api-using-introspection-operations.png)

### Schema Definition

Click **API Configurations** and then click **Schema Definition** to navigate to the Schema Definition page.

You can view the schema definition generated by introspection.

[![](../../../assets/img/learn/create-graphql-api-using-introspection-schema-definition.png)](../../../assets/img/learn/create-graphql-api-using-introspection-schema-definition.png)
