<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<link rel="icon" href="./favicon.ico"/>
		<meta name="viewport" content="width=device-width,initial-scale=1"/>
		<meta name="theme-color" content="#000000"/>
		<meta name="description" content="Web site created using create-react-app"/>
		<link rel="apple-touch-icon" href="./logo192.png"/>
		<link rel="manifest" href="./manifest.json"/>
		<title>Doc Chatbot</title>

		<script>
			// Lightweight message handler to support parent-driven restore and snapshot requests.
			(function(){
				window.addEventListener('message', function(e) {
					try {
						var d = e && e.data;
						if (!d || !d.type) return;
						// Restore handler: parent may send messages or full state
						if (d.type === 'restore-chat-state') {
							try {
								var msgs = d.messages || (d.state && (d.state.chatHistory || d.state.CHAT_HISTORY || d.state.messages)) || null;
								if (msgs) {
									if (typeof msgs === 'string') {
										localStorage.setItem('chatHistory', msgs);
									} else {
										try { localStorage.setItem('chatHistory', JSON.stringify(msgs)); } catch(err) { }
									}
								} else if (d.state) {
									var raw = d.state.chatHistory || d.state.CHAT_HISTORY || d.state.messages || null;
									if (raw) {
										if (typeof raw === 'string') localStorage.setItem('chatHistory', raw);
										else try { localStorage.setItem('chatHistory', JSON.stringify(raw)); } catch(err) {}
									}
								}
							} catch (err) { /* ignore */ }
							try {
								var cid = d.id || (d.state && d.state.id) || ('conv-' + Date.now());
								sessionStorage.setItem('siteChat_currentConversationId', cid);
							} catch (err) { /* ignore */ }
							try { window.location.reload(); } catch (err) { /* ignore */ }
							return;
						}

						// Snapshot request: parent asks for current chat snapshot
						if (d.type === 'request-chat-snapshot') {
							try {
								var snap = { type: 'chat-snapshot', id: sessionStorage.getItem('siteChat_currentConversationId') || null, label: null, state: {} };
								try { snap.state.chatHistory = localStorage.getItem('chatHistory'); } catch (e) { }
								// include other localStorage keys to help parent reconstruct state
								try {
									for (var i=0;i<localStorage.length;i++){
										var k = localStorage.key(i);
										try { snap.state[k] = localStorage.getItem(k); } catch(e){/*ignore*/}
									}
								} catch(e){}
								window.parent.postMessage(snap, '*');
							} catch (err) { /* ignore */ }
							return;
						}
					} catch (err) { /* ignore */ }
				}, false);
			})();
		</script>

		<script defer="defer" src="./static/js/main.6cb07cdc.js"></script>
		<link href="./static/css/main.3677554a.css" rel="stylesheet"/>
	</head>
	<body>
		<noscript>You need to enable JavaScript to run this app.</noscript>
		<div id="root"></div>
	</body>
</html>